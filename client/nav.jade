template(name='topnav')
    .ui.attached.inverted.menu
        if is_loading
            i.loading.adjust.large.grey.icon
        else 
            a.alpha.ui.icon.item(href="/" class="{{isActivePath '/'}}")
                i.home.large.icon
            a.alpha.ui.icon.item(href="/healthclub" class="{{isActivePath '/checkin'}}")
                |Check In
            a.icon.item(href="/add" title="Add" class="{{isActiveRoute regex='add'}}")
                i.plus.large.icon
            a.icon.item(href="/chat" title='Chat' class="{{isActiveRoute regex='chat'}}")
                i.large.chat.icon
            a.item.messages(href="/s/message" class="{{isActivePath '/s/message'}}")
                 i.large.inbox.icon
            a.item(href="/users" class="{{isActivePath '/users'}}")
                 i.large.users.icon
                         
        .right.menu
            if currentUser
                a.ui.circular.icon.item.adddoc(href="#")
                    i.plus.large.icon
                a.ui.item(href="/u/#{currentUser.username}" title="Profile" class="{{is_active_route 'user_home'}}")
                    i.user.large.icon
                    |#{currentUser.username}
                if signing_out
                    .icon.disabled.item.toggle_rightbar
                        i.notched.circle.loading.big.icon
                else
                    .logout.ui.item(title='log out')
                        i.sign.out.icon
                        |logout

            else
                a.ui.item(href="/login")
                    i.sign.in.alternate.large.icon
                    |login
                a.ui.item(href="/register")
                    i.user.plus.large.icon
                    |register
    if is_dev
        .ui.attached.borderless.inverted.menu.topnav(style="background:#{ct.primary_color};opacity:0.8")
            each topnav_schemas
                a.item.mobile_hidden.set_schema(href="/s/#{slug}" class="{{isActiveRoute regex=slug}}" title=title)
                    if color_icon
                        +icolor name=color_icon
                    else if icon
                        i.icon(class=icon)
                    |&nbsp; #{plural}


template(name='topbar')
    .ui.top.sidebar.inverted.push.nav_bar.toggle_topbar.topbar(style="background:#{ct.primary_color}")
        .ui.grid
            .centered.row
                .four.wide.center.aligned.column
                    .ui.inverted.list
                        each nonprofit_pages
                            a.ui.button(href="/p/#{slug}") #{title}
                .four.wide.center.aligned.column
                    .ui.inverted.list
                        each church_pages
                            a.ui.button(href="/p/#{slug}") #{title}
                .four.wide.center.aligned.column
                    .ui.inverted.list
                        each also_serving_pages
                            a.ui.button(href="/p/#{slug}") #{title}
                            
                .four.wide.center.aligned.column
                    .ui.inverted.list
                        each resource_pages
                            a.ui.button(href="/p/#{slug}") #{title}
        a.icon.ui.button(href='/alerts' title='Alerts')



template(name='rightbar')
    .ui.right.vertical.sidebar.nav_bar.inverted.menu.rightbar(style="background:#{ct.primary_color}")
        // if is_church
        //     .profile-picture
        //         a(href="{{pathFor route='churchDashboard'}}" class="{{is_active_route 'churchDashboard'}}")
        //             if currentUser.profile.profilePic
        //                 img.img-circle.m-b(src='{{currentUser.profile.profilePic}}' alt='logo' width='100' height='79')
        //             else
        //                 img.img-circle.m-b(src='/icons/Logo_sm_100.png' alt='logo' width='100' height='79')
        // if is_admin
        //     .profile-picture
        //         a(href="{{pathFor route='adminDashboard'}}")
        //             if currentUser.profile.profilePic
        //                 img.img-circle.m-b(src='{{currentUser.profile.profilePic}}' alt='logo' width='100' height='79')
        //             else
        //                 img.img-circle.m-b(src='/icons/Logo_sm_100.png' alt='logo' width='100' height='79')
        
        // if is_user
        //     .profile-picture
        //         a(href="{{pathFor route='dashboard'}}")
        //             if currentUser.profile.profilePic
        //                 img.img-circle.m-b(src='{{currentUser.profile.profilePic}}' alt='logo' width='100' height='79')
        //             else
        //                 img.img-circle.m-b(src='/icons/Logo_sm_100.png' alt='logo' width='100' height='79')
        a.ui.button(href="/chat")
            // +ioffice name='chat' classes='ui avatar image'
            i.chat.icon
            | Chat
        a.item.toggle_rightbar.tribe_schemas(href="/s/schema")
            // +ioffice name='active-directory' classes='ui avatar image'
            i.sitemap.icon
            | Schemas
        a.item.toggle_rightbar.tribe_pages(href="/s/page")
            // +ioffice name='web' classes='ui avatar image'
            i.clone.icon
            | Pages
        a.item.toggle_rightbar(href="/users")
            // +ioffice name='group-foreground-selected' classes='ui avatar image'
            i.users.icon
            | Users
        a.icon.item.toggle_rightbar(href="/u/#{currentUser.username}/edit")
            // +ioffice name='settings-3' classes='ui avatar image'
            i.cog.icon
            | Account
        // .item.toggle_rightbar
        //     | #{currentUser.profile.first_name} #{currentUser.profile.last_name}
        //     | #{currentUser.username} #{currentUser.profile.name}
        //     i.grey.user.shield.icon(title='Role')
        //     each currentUser.roles
        //         .ui.basic.label #{this}
        // .item.toggle_rightbar
        //     i.leaderboard.icon
        //     | Leaderboard
        // a.item.toggle_rightbar(href='/account')
        //     if currentUser.username
        //         |#{currentUser.username}
        //     else
        //         |Account
        // a.item.toggle_rightbar(href="/u/#{currentUser._id}/about")
        //     i.user.icon
        //     | Profile
        if signing_out
            .icon.disabled.item.toggle_rightbar
                i.notched.circle.loading.big.icon
        else
            a.logout.ui.button(href='#')
                // +ioffice name='exit-sign' classes='ui avatar image'
                i.sign.out.icon
                | Log Out






template(name='leftbar')
    .ui.left.vertical.sidebar.nav_bar.inverted.menu.leftbar(style="background:#{ct.primary_color}")
        // if is_dev
        //     a.item.toggle_leftbar.toggle_dev.mobile_hidden(href="#")
        //         i.user.shield.icon
        //         | Dev
        // a.item.toggle_leftbar(href="/people" class="{{is_active_route regex='people'}}" title='People')
        //     i.users.icon
        //     | People
        // a.item.toggle_leftbar(href="/churches" class="{{is_active_route regex='churches'}}" title='Churches')
        //     i.building.icon
        //     | Organizations
        // a.item.toggle_leftbar(href='/chat' title='Chat' class="{{is_active_route regex='chat'}}")
        //     i.chat.icon
        //     | Chat
            
        if currentUser
            a.ui.button(href="/user/#{currentUser._id}/edit" class="{{is_active_route 'user_edit'}}")
                i.user.icon
                | my account
                
            a.item#linkLogout(href='/logout')
                i.sign.out.icon
                | logout
            
        each tribe_schemas
            a.item.set_schema.toggle_leftbar(href="/s/#{slug}")
                i.icon(class=icon)
                | #{plural}




template(name='footer')
    // .ui.inverted.bottom.fixed.menu(style="background:#{ct.secondary_color}")
    //     .item
    //         i.copyright.outline.icon
    //     .item    
    //         |#{ct.footer}
    //     .right.menu
    #footer.ui.inverted.attached.segment(style="background:#{ct.secondary_color}")
        .ui.stackable.padded.grid
            .three.column.row
                .column
                    h5.ui.small.inverted.header Info
                    h5.ui.inverted.small.header   	
                        |2959 Shadow Creek Dr
                    h5.ui.inverted.small.header   	
                        |(303) 545-1787
                    h5.ui.inverted.small.header   	
                        |Boulder, Colorado 80303
                    with ct.owner
                        h5.ui.small.inverted.header Owner Info
                        +user_info
                    .ui.list
                        if ct.address
                            .item
                                i.globe.icon
                                .content #{ct.address}             
                        if ct.contact_email
                            .item
                                i.mail.icon
                                a(href="mailto:#{ct.contact_email}") #{ct.contact_email}
                        if ct.contact_phone
                            .item
                                i.phone.icon
                                a(href="tel:#{ct.contact_phone}") #{ct.contact_phone}
                .column
                    form(action='https://www.paypal.com/cgi-bin/webscr', method='post', target='_top')
                        input(type='hidden', name='cmd', value='_s-xclick')
                        input(type='hidden', name='hosted_button_id', value='AUVHGYNUW5LVE')
                        // input(type='image', src='https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif', border='0', name='submit')
                        img(alt='', border='0', src='https://www.paypal.com/en_US/i/scr/pixel.gif', width='1', height='1')
                        button.ui.large.inverted.icon.button(type='submit')
                            i.pied.piper.alternative.icon
                    //- .ui.small.inverted.header Links
                    //- .ui.inverted.list
                    //-     each footer_pages
                    //-         a.ui.button(href="/p/#{slug}") #{title}
                .inverted.column
                    +role_switcher

                    // h5.ui.small.inverted.header Social Media
                    // .ui.list
                    //     if ct.facebook
                    //         a.ui.button(href="https://www.facebook.com/#{ct.facebook}", target='_blank')
                    //             img(src='/images/32x32x1.png', alt='32x32x1')
                    //     if ct.twitter
                    //         a.ui.button(href='https://twitter.com/Joyful_Giver', target='_blank')
                    //             img(src='/images/32x32x2.png', alt='32x32x2')
                    //     if ct.instagram
                    //         a.ui.button(href='https://www.instagram.com/joyfulgiver_app/', target='_blank')
                    //             img(src='/images/32x32x9.png', alt='32x32x9')
                //     .ui.small.images
                //         img(src='/images/stripe.png', alt='100x80x1')
                //         img(src='/images/ssl.png', alt='100x80x2')
                //         a(href='https://www.bbb.org/dallas/business-reviews/financial-services/joyful-giver-in-plano-tx-90907663#bbbseal', target='_blank')
                //             img(src='/images/bbb.png', alt='100x80x2')
            .centered.middle.aligned.row
                .four.wide.center.aligned.column
                    .ui.inline.inverted.header
                        i.copyright.outline.icon
                        |2019 dao
                //- if is_dev
                //-     .four.wide.center.aligned.column
                //-         a(href='/t/dao')
                //-             +icolor name='yin-yang' classes='ui inline image'
