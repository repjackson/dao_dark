template(name='edit_doc')
    with doc
        .ui.inverted.center.aligned.header edit doc
        .ui.stackable.padded.grid
            .ten.wide.column
                if template
                    +Template.dynamic template=edit_type_template
                else
                    // if parent_id
                    +parent_doc_segment
                    .ui.header hi
                    each field_ids
                        +edit_field template=field_doc.field_template key=field_doc.slug
                    .content
                        // +edit_text_field key='title'
                        // +edit_text_field key='slug'
                        // +edit_text_field key='icon_class'
                        // +edit_text_field key='type'
                        // +edit_text_field key='field_template'
                        div
                            .ui.inverted.header tags
                            .ui.small.input
                                input#add_tag(type='text' maxlength='50' placeholder='add tag')
                            each tags
                                a.ui.compact.button.doc_tag
                                    i.remove.icon
                                    |#{this}
                    
                        // .ui.basic.segment
                        //     .ui.labeled.action.small.input
                        //         .ui.label image url
                        //         input#image_url(type='text' value=image_url)
                        //         if image_url
                        //             #clear_image_url.ui.icon.button
                        //                 i.remove.icon
                        // .ui.basic.segment
                        //     if image_url
                        //         .ui.image
                        //             img(src=image_url)
                        // .ui.basic.segment
                        //     .ui.labeled.action.small.input
                        //         .ui.label youtube
                        //         input#youtube(type='text' value=youtube)
                        //         if youtube
                        //             #clear_youtube.ui.icon.button
                        //                 i.remove.icon
                        //     if youtube
                        //         +view_youtube
                        .field
                            .froala-container
                                +froalaReactive getFEContext
                        .ui.inverted.segment
                            .ui.header bounty
                            h5.ui.header offer bounty for this post
                            .ui.input
                                input#bounty_input(type='number' min='0')

            .six.wide.column
                a.ui.icon.large.fluid.button(href="/view/#{_id}")
                    i.checkmark.icon
                +published        
                #delete.ui.icon.button
                    i.remove.icon
                .ui.divider
                .ui.inverted.segment
                    .ui.inverted.header template
                    +toggle_key key='template' value=null label='none'
                    +toggle_key key='template' value='question' label='question'
                    +toggle_key key='template' value='ad' label='ad'
                    +toggle_key key='template' value='event' label='event'
                .ui.divider
                +reference_other_children type='field' key='field_ids'
                .ui.inverted.segment
                    .ui.inverted.header components
                    +reference_other_children type='component' key='component_ids'
                .ui.inverted.segment
                    .ui.inverted.header permissions
                .ui.inverted.segment
                    .ui.inverted.header access
                    +toggle_key key='access' value='public' label='public'
                    +toggle_key key='access' value='private' label='private'
                    +toggle_key key='access' value='payment_required' label='payment_required'
                    +toggle_key key='access' value='subscription_required' label='subscription_required'
                    
        .ui.divider
    
