template(name='root')
    .ui.stackable.padded.grid
        unless session_doc
            .row
                .sixteen.wide.column
                    if currentUser
                        .create_session.ui.button
                            i.plus.icon
                            |session
        if session_doc
            .row
                .four.wide.column.scrolling
                    if session_doc.result
                        .ui.header query: #{session_doc.result}
                    each faceted_fields
                        +facet
                .twelve.wide.column.scrolling
                    each session_doc.result_ids
                        +doc_view

template(name='doc_view')
    with local_doc
        .ui.fluid.card.doc_card(class=doc_card_class)
            // if doc_header_fields
            // .content
            //     h3.ui.header #{title}
            .content
                .ui.list
                    each keys
                        .item
                            .ui.basic.label #{this}
                            // div primative :#{key_type}
                            // div display html: #{display_type}
                            if is_html
                                |!{key_value}
                            else if is_array
                                each key_value
                                    .ui.label #{this}
                            else
                                |#{key_value} 
                // p
                // .ui.list
                //     each field_docs
                //         if value
                //             .item
                //                 if field_template
                //                     +Template.dynamic template=field_template
                //                 else
                //                     .content
                //                         if icon
                //                             i.large.icon
                //                                 +icon name=icon
                //                         | #{title}
                //                         |&nbsp;
                //                         if is_array
                //                             each value
                //                                 .ui.basic.label #{this}
                //                         else
                //                             strong #{value}



